{% extends 'modulo_configuracion/form.html' %}
{% load static %}
{% load widget_tweaks %}
{% block title %} Parametrizaci√≥n | Crear ajuste de inventario {% endblock title %}
{% block title-header %}
{% endblock title-header %}

    {% block menu-header %}
    <li class="breadcrumb-item">
        <a href="{{ list_url }}">
            Ver ajustes de inventario
        </a>
    </li>
    <li class="breadcrumb-item">
        <a href="#">
            <i class="fas fa-question"></i>
            Ver instructivo
        </a>
    </li>
    {% endblock menu-header %}

    {% block form %}
    <div class="row">
        <div class="col-lg-4">
            <div class="form-group">
                <label>* Bodega:</label>
                {{ form.store }}
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group">
                <input type="hidden" action>
                <label>* Tipo de ajuste:</label>
                {{ form.type }}
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group">
                <label>* Producto:</label>
                {{ form.product_code }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-4">
            <div class="form-group">
                <label>* Lote:</label>
                {{ form.batch }}
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group">
                <label>* Fecha de vencimiento:</label>
                {{ form.expiration_date }}
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group">
                <label>* Cantidad:</label>
                {{ form.quantity }}
            </div>
        </div>
    </div>
    <div class="row" id="filaDescripcionProducto" hidden="true">
        <div class="col-lg-4">
            <div class="form-group">
                <label>Unidad de compra:</label>
                <input 
                    type="text" 
                    class="form-control" 
                    autocomplete="off" 
                    readonly="true" 
                    id="unidadCompra">
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group">
                <label>Costo unitario:</label>
                <input 
                    type="text"
                    class="form-control"
                    autocomplete="off"
                    readonly="true"
                    id="costoUnitario">
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group">
                <label>Costo total:</label>
                {{ form.total_cost }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-3">
            <button 
                type="submit" 
                class="btn btn-outline-primary btn-block btnAddP">
                <i class="fas fa-plus"></i> 
                Agregar producto
            </button>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-lg-12">
            <table class="table table-bordered table-hover" id="tblAjustesInventario">
                <thead>
                    <tr style="text-align: center;">
                        <th style="width: 15%;">Bodega</th>
                        <th style="width: 15%;">Tipo de ajuste</th>
                        <th style="width: 15%;">Producto</th>
                        <th style="width: 10%;">Lote</th>
                        <th style="width: 10%;">Fecha Vencimiento</th>
                        <th style="width: 10%;">Cantidad</th>
                        <th style="width: 15%;">Costo total</th>
                        <th style="width: 10%;">Eliminar</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
    <br>
    <hr>
    <div class="row">
        <div class="col-lg-4">
            <div class="form-group">
                <label>Costo total:</label>
                <input 
                    type="text"
                    class="form-control"
                    readonly="true"
                    id="costoTotalAcumulado">
            </div>    
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-lg-3">
            <button 
                type="button" 
                class="btn btn-outline-danger btn-block"
                id="btnRemoverProductos">
                <i class="fas fa-trash-alt"></i> 
                Eliminar productos
            </button>
        </div>
    </div>
    {% endblock form %}
    {% block footer %}
    <div class="card-footer">
        <div class="row">
            <div class="col-lg-4">
                <button
                    type="button" 
                    class="btn btn-outline-primary btn-block btn-block"
                    id="guardarAjusteInventario">
                    <i class="fas fa-save"></i> 
                    Guardar ajuste
                </button>
            </div>
        </div>
    </div>
    {% endblock footer %}
    {% block extrajs %}  
    <script src="{% static 'js/parametrizacion/crear_ajuste_inventario.js' %}"></script>
    {% endblock extrajs %}
    {% block frm-submit %}
    {% endblock frm-submit %}